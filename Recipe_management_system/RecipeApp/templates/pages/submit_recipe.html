{% load static %}

<!DOCTYPE html>
<html>


<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="SocialChef - Social Recipe HTML Template" />
	<meta name="description" content="SocialChef - Social Recipe HTML Template">
	<meta name="author" content="themeenergy.com">
	
	<title>SocialChef</title>
	
	<link rel="stylesheet" href="{% static 'css/style.css' %}" />
	<link rel="stylesheet" href="{% static 'css/icons.css' %}" />
	<link href="http://fonts.googleapis.com/css?family=Raleway:400,300,500,600,700,800" rel="stylesheet">
	<script src="{% static 'use.fontawesome.com/e808bf9397.js' %}"></script>
	<link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" />

	<style>
		.ingredient-row {
			display: flex;
			gap: 10px;
			align-items: center;
			flex-wrap: nowrap;
		}
		.ingredient-row .large,
		.ingredient-row .small {
			flex: 1 1 0;
		}
		.ingredient-row .small {
			max-width: 160px;
		}
	</style>

</head>
<body>
	<!--preloader-->
	<div class="preloader">
		<div class="spinner"></div>
	</div>
	<!--//preloader-->
	
	<!--header-->
	<header class="head" role="banner">
		<!--wrap-->
		<div class="wrap clearfix">
			<a href="{% url 'index' %}" title="SocialChef" class="logo"><img src="{% static 'images/ico/logo.png' %}" alt="SocialChef logo" /></a>
			
			<nav class="main-nav" role="navigation" id="menu">
				<ul>
					<li><a href="{% url 'index' %}" title="Home"><span>Home</span></a></li>
					<li><a href="{% url 'all_recipe' %}" title="Recipes"><span>Recipes</span></a></li>
					<li><a href="{% url 'blog' %}" title="Blog"><span>Blog</span></a></li>
					<li><a href="{% url 'contact' %}" title="Contact"><span>Contact</span></a></li>
					{% if user.is_authenticated %}
						<li class="current-menu-item"><a href="{% url 'logout' %}" title="logout"><span>Logout</span></a></li>
					{% else %}
						<li class="current-menu-item"><a href="{% url 'sign_in' %}" title="Login"><span>Login</span></a></li>
					{% endif %}
				</ul>
			</nav>
			
			<nav class="user-nav" role="navigation">
				<ul>
					<li class="light"><a href="#" title="Search for recipes"><i class="icon icon-themeenergy_search"></i> <span>Search for recipes</span></a></li>
					<li class="medium"><a href="{% url 'profile' %}" title="My account"><i class="icon icon-themeenergy_chef-hat"></i> <span>My account</span></a></li>
					<li class="dark current-menu-item"><a href="{% url 'submit_recipe' %}" title="Submit a recipe"><i class="icon icon-themeenergy_fork-spoon"></i> <span>Submit a recipe</span></a></li>
				</ul>
			</nav>
		</div>
	</header>
	<!--//header-->
		
	<!--main-->
	<main class="main" role="main">
		<!--wrap-->
		<div class="wrap clearfix">
			<!--breadcrumbs-->
			<nav class="breadcrumbs">
				<ul>
					<li><a href="{% url 'index' %}" title="Home">Home</a></li>
					<li>Submit a recipe</li>
				</ul>
			</nav>
			<!--//breadcrumbs-->
			
			<!--row-->
			<div class="row">
				<header class="s-title">
					<h1>Add a new recipe</h1>
				</header>
					
				<!--content-->
				<section class="content full-width">
					<div class="submit_recipe container">
						<form method="post" action="{% url 'submit_recipe' %}" enctype="multipart/form-data">
							{% csrf_token %}
							<section>
								<h2>Basics</h2>
								<p>All fields are required.</p>
								<div class="f-row">
									<div class="full"><input type="text" name="title" placeholder="Recipe title" required /></div>
								</div>
								<div class="f-row">
									<div class="third"><input type="text" name="preparation_time" placeholder="Preparation time" required /></div>
									<div class="third"><input type="text" name="cooking_time" placeholder="Cooking time" required /></div>
									<div class="third"><input type="text" name="difficulty" placeholder="Difficulty" required /></div>
								</div>
								<div class="f-row">
									<div class="third"><input type="text" name="serves" placeholder="Serves how many people?" required /></div>
									<div class="third">
										<select name="category">
											<option value="" selected="selected">Select a category</option>
											{% for c in categories %}
												<option value="{{ c.id }}">{{ c.name }}</option>
											{% endfor %}
										</select>
									</div>
								</div>
							</section>
							
							<section>
								<h2>Description</h2>
								<div class="f-row">
									<div class="full"><textarea name="description" placeholder="Recipe description" required></textarea></div>
								</div>
							</section>	
							
							<section>
								<h2>Ingredients</h2>
								<div id="ingredients-list">
									<div class="f-row ingredient-row">
										<div class="large"><input type="text" name="ingredient_name[]" placeholder="Ingredient" required /></div>
										<div class="small"><input type="text" name="ingredient_qty[]" placeholder="Quantity" required /></div>
										<button class="remove" type="button">-</button>
									</div>
								</div>
								<div class="f-row full">
									<button class="add" id="add-ingredient" type="button">Add an ingredient</button>
								</div>
							</section>	
							
							<section>
								<h2>Instructions <span>(enter instructions, each step at a time)</span></h2>
								<div class="f-row">
									<div class="full"><textarea name="instructions" placeholder="Instructions" required></textarea></div>
								</div>
							</section>
							
							<section>
								<h2>Photo</h2>
								<div class="f-row full">
									<input type="file" name="photo" />
								</div>
							</section>	
							
							<section>
								<h2>Status <span>(would you like to further edit this recipe or are you ready to publish it?)</span></h2>
								<div class="f-row full">
									<input type="radio" id="r1" name="status" value="working" checked />
									<label for="r1">I am still working on it</label>
								</div>
								<div class="f-row full">
									<input type="radio" id="r2" name="status" value="published" />
									<label for="r2">I am ready to publish this recipe</label>
								</div>
							</section>
							
							<div class="f-row full">
								<input type="submit" class="button" id="submitRecipe" value="Publish this recipe" />
							</div>
						</form>
					</div>
				</section>
				<!--//content-->
			</div>
			<!--//row-->
		</div>
		<!--//wrap-->
	</main>
	<!--//main-->
	
	
	<!--footer-->
	<footer class="foot" role="contentinfo">
		<div class="wrap clearfix">
			<div class="row">
				<article class="one-half">
					<h5>About SocialChef Community</h5>
					<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci.</p>
				</article>
				<article class="one-fourth">
					<h5>Need help?</h5>
					<p>Contact us via phone or email</p>
					<p><em>T:</em>  +1 555 555 555<br /><em>E:</em>  <a href="#">socialchef@email.com</a></p>
				</article>
				<article class="one-fourth">
					<h5>Follow us</h5>
					<ul class="social">
						<li><a href="#" title="facebook"><i class="fa fa-fw fa-facebook"></i></a></li>
						<li><a href="#" title="youtube"><i class="fa  fa-fw fa-youtube"></i></a></li>
						<li><a href="#" title="rss"><i class="fa  fa-fw fa-rss"></i></a></li>
						<li><a href="#" title="gplus"><i class="fa fa-fw fa-google-plus"></i></a></li>
						<li><a href="#" title="linkedin"><i class="fa fa-fw fa-linkedin"></i></a></li>
						<li><a href="#" title="twitter"><i class="fa fa-fw fa-twitter"></i></a></li>
						<li><a href="#" title="pinterest"><i class="fa fa-fw fa-pinterest-p"></i></a></li>
						<li><a href="#" title="vimeo"><i class="fa fa-fw fa-vimeo"></i></a></li>
					</ul>
				</article>
				
				<div class="bottom">
					<p class="copy">Copyright 2016 SocialChef. All rights reserved</p>
					
					<nav class="foot-nav">
						<ul>
							<li><a href="{% url 'index' %}" title="Home">Home</a></li>
							<li><a href="{% url 'all_recipe' %}" title="Recipes">Recipes</a></li>
							<li><a href="{% url 'blog' %}" title="Blog">Blog</a></li>
							<li><a href="{% url 'contact' %}" title="Contact">Contact</a></li>    
							<li><a href="#" title="Search for recipes">Search for recipes</a></li>
							<li><a href="{% url 'sign_in' %}" title="Login">Login</a></li>	<li><a href="{% url 'sign_up' %}" title="Register">Register</a></li>													
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</footer>
	<!--//footer-->
	
	<script src="{% static 'js/jquery-3.1.0.min.js' %}"></script>
	<script src="{% static 'js/jquery.uniform.min.js' %}"></script>
	<script src="{% static 'js/jquery.slicknav.min.js' %}"></script>
<script src="{% static 'js/scripts.js' %}"></script>

	    {% if messages %}
	<script>
    document.addEventListener("DOMContentLoaded", function () {
        {% for message in messages %}
            Swal.fire({
                icon: "{{ message.tags }}",
                title: "{{ message.tags|capfirst }}",
                text: "{{ message }}",
                confirmButtonColor: "#3085d6",
                allowOutsideClick: false
            });
        {% endfor %}
    });
	</script>
	{% endif %}

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const list = document.getElementById("ingredients-list");
    const addBtn = document.getElementById("add-ingredient");

    addBtn.addEventListener("click", function () {
        const row = list.querySelector(".ingredient-row");
        const clone = row.cloneNode(true);
        clone.querySelectorAll("input").forEach(function (input) {
            input.value = "";
        });
        list.appendChild(clone);
    });

    list.addEventListener("click", function (e) {
        if (e.target.classList.contains("remove")) {
            const rows = list.querySelectorAll(".ingredient-row");
            if (rows.length > 1) {
                e.target.closest(".ingredient-row").remove();
            }
        }
    });
});
</script>
</body>


</html>


